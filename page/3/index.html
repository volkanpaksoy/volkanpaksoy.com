<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Playground for the mind</title>
	<meta name="author" content="Volkan Paksoy">

	
	<meta name="description" content="
		
	">
	

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://feeds.feedburner.com/PlaygroundForTheMind" rel="alternate" title="Playground for the mind" type="application/atom+xml">
	
	<link rel="canonical" href="https://volkanpaksoy.com/page/3/">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800' rel='stylesheet' type='text/css'>
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/code.css" type="text/css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="/js/slash.js" async></script>
	<script src="/js/GithubRepoWidget.min.js" async></script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996"
  crossorigin="anonymous"></script>

  

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y3V7V2XX9Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y3V7V2XX9Q');
</script>

<!-- <script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'G-Y3V7V2XX9Q']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script> -->



  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@volkan_paksoy">
  <meta name="twitter:creator" content="@Volkan Paksoy">
  <meta name="twitter:title"   content="">

  
  <meta name="twitter:description" content="">
  

  
  <meta name="twitter:card"  content="summary">
  <meta name="twitter:image" content=""> -->
  
  <!-- end of Twitter cards -->


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner"><div class="profilepic">
	
	<a href="/">
		<img src="https://s.gravatar.com/avatar/760bf518408c38ebb0f0e5adb8089e30?s=80?s=160" alt="Profile Picture" style="width: 160px;">
	</a>	
	
</div>
<hgroup>
  <h1 class="site-title" style="font-size: 2.4em;">
		<a style="color: rgba(255, 165, 0, 0.8);" href="/">Playground for the mind</a>
	</h1>
  
    <h2>It's all about the journey, not the destination</h2>
  
</hgroup>

<nav id="sub-nav">
	<div class="social">
		
			<a class="rss" href="https://feeds.feedburner.com/PlaygroundForTheMind" title="RSS" target="_blank" rel="noopener noreferrer">RSS</a>
		
		
			<a class="github" href="https://github.com/volkanpaksoy" title="GitHub" target="_blank" rel="noopener noreferrer">GitHub</a>
		
		
			<a class="stackoverflow" href="https://stackoverflow.com/users/3093396/volkan-paksoy" title="StackOverflow" target="_blank" rel="noopener noreferrer">StackOverflow</a>
		
	</div>
</nav>

<nav id="main-nav">
<ul class="main-navigation">
  <li><a href="/archive">posts</a></li>
  <li><a href="/category">categories</a></li>
</ul>
<br>
<br>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>
<!-- vp.com - default -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5266062674794996" data-ad-slot="6750480330" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</nav></header>				
			</div>
		</div>
		<div class="mid-col">
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">



    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/10/26/Building-Robots-with-Lego-Mindstorms-EV3/" itemprop="url">Building Robots with Lego Mindstorms EV3</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-10-26T05:00:00+01:00" itemprop="datePublished">October 26, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/hobby">hobby</a></span> -->

<!-- hobby -->




    <a href="/category/hobby">hobby</a>
    
</span>
	<span class="tags">lego, mindstorms, ev3</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<p>In <a href="https://volkanpaksoy.com/archive/2019/10/24/Playing-with-Lego-Mindstorms/">this</a> I made an introduction to building robots with Lego Mindstorms. In this post I will not develop my own robot but will build one of Lego’s creations: Track3r</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/lego-track3r.jpg" alt="Lego Track3r"></p>

<h2 id="building">Building</h2>
<p><a href="https://github.com/volkanpaksoy/lego/blob/master/docs/Lego-Track3r-Instructions.pdf" target="_blank" rel="noopener noreferrer">Instructions</a> are quite simple and I was able to build in a few hours.</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/lab-in-use.jpeg" alt="Lab in use"></p>

<h2 id="connecting">Connecting</h2>
<p>I tested it with IR remote control and it works but I think the easiest and best way to control the robot is the iOS app.</p>

<p>To control the robot via app, first you need to have Bluetooth enabled both on your phone and EV3 brick:</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/turn-on-bluetooth-onev3.jpeg" alt=""></p>

<p>After you install the app, connect it to the brick:</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/bluetooth-connection-instructions.jpg" alt=""></p>

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>

<p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5266062674794996" data-ad-slot="9650311114"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<p>Once connected, selected the robot you want to control (Track3r in this case):</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/app-control-panel.jpg" alt=""></p>

<p>and the rest is just taking it to a test drive:</p>

<p><img src="/images/vpblogimg/2019/10/lego-2/lego-track3r-complete.jpg" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>One problem I had was I ran out of batteries very quickly. EV3 brick take 6 AA batteries and I use rechargable batteries. After playing around with the robot for about half an hour I ran out of batteries. Unfortunately the design of the robot doesn’t take replacing batteries into account. It seems it would be a bit painful to remove the brick only to replace the batteries and put it back in. Well, there are other models I wanted to build anyway at least I have now more experience with building and controlling the pre-designed robots. I think the most fun is programming the brick so I will explore more of that in the future.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://github.com/volkanpaksoy/lego/blob/master/docs/Lego-Track3r-Instructions.pdf" target="_blank" rel="noopener noreferrer">Lego Track3r Instructions</a></li>
  <li><a href="https://github.com/volkanpaksoy/lego/blob/master/docs/Lego-Mindstorms-EV3-User-Guide.pdf" target="_blank" rel="noopener noreferrer">EV3 User Guide</a></li>
</ul>

		
		
	</div>


    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/10/24/Playing-with-Lego-Mindstorms/" itemprop="url">Playing with Lego Mindstorms NXT and EV3</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-10-24T07:00:00+01:00" itemprop="datePublished">October 24, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/hobby">hobby</a></span> -->

<!-- hobby -->




    <a href="/category/hobby">hobby</a>
    
</span>
	<span class="tags">lego, mindstorms, ev3, nxt-g, nxt</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<p><img src="/images/vpblogimg/2019/10/lego-1/lego-mindstorms-ev3.jpg" alt="Lego Mindstorms EV3"></p>

<p>Whenever I see my Lego Mindstorms kit on the shelf gathering dust I sigh then I tell myself one day I’ll find enough time to build soemthing with it again. That day was last weekend! This post is a collection of notes that I started taking when I started playing.</p>

<h2 id="terminology">Terminology</h2>
<p>I have 2 older bricks and one of the newer ones. At first glance the naming was a bit confusing. So to clarify there are 3 versions of the brick out there as outlines <a href="http://robotsquare.com/2013/07/16/ev3-nxt-compatibility/" target="_blank" rel="noopener noreferrer">here</a>.</p>

<ul>
  <li>The programmable bricks are all called <strong>Lego Mindstorms</strong>
</li>
  <li>The names of the versions are:
    <ul>
      <li>1998: LEGO MINDSTORMS <strong>RCX</strong>
</li>
      <li>2006: LEGO MINDSTORMS <strong>NXT</strong>
</li>
      <li>2013: LEGO MINDSTORMS <strong>EV3</strong>
</li>
    </ul>
  </li>
  <li>Also NXT has several sets:
    <ul>
      <li>LEGO MINDSTORMS NXT (8527)</li>
      <li>LEGO MINDSTORMS NXT 2.0 (8547)</li>
      <li>LEGO MINDSTORMS NXT Education Base Set (9797)</li>
    </ul>
  </li>
</ul>

<p>I have one of the education sets and one regular so I was getting confused about identifying which one was which as all the contents are mixed up at this point. The good news is shown in the same <a href="http://robotsquare.com/2012/02/18/understanding-nxt-versions/" target="_blank" rel="noopener noreferrer">article</a> that lists NXT sets:</p>

<ul>
  <li>The NXT Intelligent Brick is the same in all versions of the Mindstorms NXT sets.</li>
  <li>The NXT motors are the same in all versions of the Mindstorms NXT sets. Each version has three of such motors</li>
</ul>

<p>Since the brick is the heart and soul of the whole thing, it’s much easier to say that I have 2 NXT and 1 EV3 bricks.</p>

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>

<p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5266062674794996" data-ad-slot="9650311114"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<h2 id="programming-the-brick">Programming the brick</h2>
<p>First, I downloaded the software and installed it:</p>

<p><img src="/images/vpblogimg/2019/10/lego-1/lego-mindstorms-software-installation.png" alt=""></p>

<p>Then plugged in the EV3 brick via USB cable:</p>

<p><img src="/images/vpblogimg/2019/10/lego-1/lego-mindstorms-connect-brick.png" alt=""></p>

<p>Unfortunately, macoOS Catalina doesn’t seem to support programming yet. Even though it installs fine and sees the EV3 brick connected I couldn’t make it work. So I reverted to my Surface Pro 3 and tried Windows to do the job.</p>

<p>I guess this time it really worked as it asked me to upgrade firmware on the brick which I did.</p>

<p><img src="/images/vpblogimg/2019/10/lego-1/lego-mindstorms-firmware-update.png" alt=""></p>

<p>After that I was able to start using NXT-G to develop my first program: An infinite loop of 2 motors moving forward</p>

<p><img src="/images/vpblogimg/2019/10/lego-1/lego-mindstorms-first-program.png" alt=""></p>

<p>And the result is simple but good enough for the time being:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/3RE---CIvbI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://www.lego.com/en-gb/mindstorms/downloads/download-software" target="_blank" rel="noopener noreferrer">Lego Software Download</a></li>
  <li><a href="http://robotsquare.com/2013/07/16/ev3-nxt-compatibility/" target="_blank" rel="noopener noreferrer">EV3 and NXT: Difference and Compatibility</a></li>
  <li><a href="http://robotsquare.com/2012/02/18/understanding-nxt-versions/" target="_blank" rel="noopener noreferrer">Tutorial: Understanding the difference between NXT set versions</a></li>
  <li><a href="https://volkanpaksoy.com/archive/2014/05/24/programming-lego-mindstorms-ev3-net-api">Old blog post: Programming EV3 with .NET</a></li>
  <li><a href="https://www.ev3dev.org/" target="_blank" rel="noopener noreferrer">ev3dev</a></li>
</ul>

		
		
	</div>


    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/10/23/AWS-Developer-Tools-Services-Part-4-AWS-CodePipeline/" itemprop="url">AWS Developer Tools Services Part 4: AWS CodePipeline</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-10-23T04:00:00+01:00" itemprop="datePublished">October 23, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/devopsaws">devops</a></span> -->

<!-- devops, aws -->




    <a href="/category/devops">devops</a>
    , 

    <a href="/category/aws">aws</a>
    
</span>
	<span class="tags">codepipeline, git, aws_developer_tools_services</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<h2 id="introduction">Introduction</h2>
<p>This post is part of my mini-series about <a href="https://aws.amazon.com/products/developer-tools/" target="_blank" rel="noopener noreferrer">AWS Developer Tools Services</a></p>

<ul>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/15/AWS-Developer-Tools-Services-Part-1-AWS-CodeCommit/">Part 1: AWS CodeCommit</a></li>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/19/AWS-Developer-Tools-Services-Part-2-AWS-CodeBuild/">Part 2: AWS CodeBuild</a></li>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/20/AWS-Developer-Tools-Services-Part-3-AWS-CodeDeploy/">Part 3: AWS CodeDeploy</a></li>
  <li>Part 4: AWS CodePipeline</li>
</ul>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-icon.png" alt=""></p>

<h2 id="aws-codepipeline">AWS CodePipeline</h2>
<p>In the previous posts I was able to create a Git repository in CodeCommit, create a build and upload the artifacts to an S3 bucket using CodeBuild and deploy the artifacts to an EC2 instance. In this post I will use CodePipeline service to tie these steps together.</p>

<p>AWS CodePipeline is more like an umbrella service that it combines the the source, build and deploy steps together with some added benefits:</p>

<ul>
  <li>Ability to retry deployment: In CodeDeploy, if the deployment fails you have to create a new deployment manually but with Pipeline we have the option to retry the deployment which clones the failed deployment and runs the new one automatically.</li>
  <li>Trigger build upon code changes: You can start builds manually or on schedule by creating triggers but you can not trigger a build when you push your code to the repository. CodePipeline handles this automatically.</li>
</ul>

<h2 id="create-a-pipeline">Create a pipeline</h2>

<h3 id="step-1-give-it-a-name">Step 1: Give it a name</h3>
<p>First step is to simply give the pipeline a name. CodePipeline can automatically create an IAM role with the required permissions. Required permissions are not really clear at this point as we haven’t connected any of the services yet. That’s why it’s very useful to keep the “Allow AWS CodePipeline to create a service role so it can be used with this new pipeline” checkbox ticked.</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-create-pipeline.png" alt=""></p>

<h4 id="step-2-add-source">Step 2: Add source</h4>
<p>Next, we choose the source provider. In this example, I will use CodeCommit. It also support Amazon ECR, Amazon S3 and GitHub.</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-add-source.png" alt=""></p>

<p>At this stage, by using CloudWatch events we can automatically start the build. This option os provided because CodeCommit is an AWS service. If you choose GitHub as your provider you’ll see GitHub webhooks which do the same job.</p>

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>

<p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5266062674794996" data-ad-slot="9650311114"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<h4 id="step-3-add-build">Step 3: Add build</h4>
<p>By default two build services are supported: CodeBuild and Jenkins. It’s easier to connect to CodeBuild as you just have to select your build project from the dropdown list:</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-add-build.png" alt=""></p>

<p>You can also choose to skip this stage. If you are copying static assets from an S3 bucket for instance you wouldn’t need to build anything and would choose to skip this stage.</p>

<h4 id="step-4-add-deployment">Step 4: Add deployment</h4>
<p>At deployment stage, we have quite a few options:</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-add-deployment-1.png" alt=""></p>

<p>As stated before, I will use the CodeDeploy deployment I created before:</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-add-deployment-2.png" alt=""></p>

<p>Finally we review and create the pipeline.</p>

<h2 id="troubleshooting-the-pipeline">Troubleshooting the pipeline</h2>
<p>Even though my CodeBuild and CodeDeploy projects succeeded, running the CodePipeline at this point fails. The reason for this error is CodePipeline creates its own S3 bucket and CodeDeploy agent needs access to that bucket as well to be able to download the deployment artifacts. So I had to modify my policy as such:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:Get*",
        "s3:List*"
      ],
      "Resource": [
        "arn:aws:s3:::replace-with-your-s3-bucket-name/*",
        "arn:aws:s3:::aws-codedeploy-us-east-1/*",
        "arn:aws:s3:::codepipeline-us-east-1-XXXXXXXXXXX/*"
      ]
    }
  ]
}
</code></pre></div></div>

<h2 id="see-it-in-action">See it in action</h2>
<p>After fixing the policy I retried the deployment (which creates a new deployment, doesn’t actually retry the failed one)</p>

<p><img src="/images/vpblogimg/2019/10/aws-codepipeline-results.png" alt=""></p>

<h2 id="conclusion">Conclusion</h2>
<p>In this mini-series, I investigated creating a full pipeline using AWS developer services. In future posts I will delve deeper into these services and start using other complementary services as well.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://aws.amazon.com/codepipeline" target="_blank" rel="noopener noreferrer">AWS CodePipeline</a></li>
</ul>

		
		
	</div>


    </article>


</div>
<nav id="pagenavi">
    
        <a href="/page/2" class="prev">Prev</a>
    
    
        <a href="/page/4" class="next">Next</a>
    
    <div class="center"><a href="/archive">Blog Archives</a></div>
</nav>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright © 2022 - Volkan Paksoy Blog content licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank" rel="noopener noreferrer">CC BY 2.5</a> | Site design based on the <a href="https://github.com/shashankmehta/greyshade" target="_blank" rel="noopener noreferrer">Greyshade theme</a> under the <a href="http://sm.mit-license.org/" target="_blank" rel="noopener noreferrer">MIT license</a>
</p>
</footer>
		</div>
	</div>
</body>
</html>
