<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Playground for the mind</title>
	<meta name="author" content="Volkan Paksoy">

	
	<meta name="description" content="
		
	">
	

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://feeds.feedburner.com/PlaygroundForTheMind" rel="alternate" title="Playground for the mind" type="application/atom+xml">
	
	<link rel="canonical" href="https://volkanpaksoy.com/page/4/">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800' rel='stylesheet' type='text/css'>
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/code.css" type="text/css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="/js/slash.js" async></script>
	<script src="/js/GithubRepoWidget.min.js" async></script>

  	
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-35583486-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner"><div class="profilepic">
	
	<a href="/">
		<img src="https://s.gravatar.com/avatar/760bf518408c38ebb0f0e5adb8089e30?s=80?s=160" alt="Profile Picture" style="width: 160px;">
	</a>	
	
</div>
<hgroup>
  <h1 class="site-title" style="font-size: 2.4em;">
		<a style="color: rgba(255, 165, 0, 0.8);" href="/">Playground for the mind</a>
	</h1>
  
    <h2>It's all about the journey, not the destination</h2>
  
</hgroup>

<nav id="sub-nav">
	<div class="social">
		
			<a class="rss" href="https://feeds.feedburner.com/PlaygroundForTheMind" title="RSS" target="_blank" rel="noopener noreferrer">RSS</a>
		
		
			<a class="github" href="https://github.com/volkanpaksoy" title="GitHub" target="_blank" rel="noopener noreferrer">GitHub</a>
		
		
			<a class="stackoverflow" href="https://stackoverflow.com/users/3093396/volkan-paksoy" title="StackOverflow" target="_blank" rel="noopener noreferrer">StackOverflow</a>
		
	</div>
</nav>

<nav id="main-nav">
<ul class="main-navigation">
  <li><a href="/projects">projects</a></li>
  <li><a href="/archive">posts</a></li>
  <li><a href="/category">categories</a></li>
</ul>
</nav></header>				
			</div>
		</div>
		<div class="mid-col">
			<div class="mid-col-container">
				<div id="content" class="inner">
<div itemscope itemtype="http://schema.org/Blog">



    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/10/15/AWS-Developer-Tools-Services-Part-1-AWS-CodeCommit/" itemprop="url">AWS Developer Tools Services Part 1: AWS CodeCommit</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-10-15T07:00:00+01:00" itemprop="datePublished">October 15, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/devopsaws">devops</a></span> -->

<!-- devops, aws -->




    <a href="/category/devops">devops</a>
    , 

    <a href="/category/aws">aws</a>
    
</span>
	<span class="tags">codecommit, git, aws_developer_tools_services</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<h2 id="introduction">Introduction</h2>
<p>This post is part of my mini-series about <a href="https://aws.amazon.com/products/developer-tools/" target="_blank" rel="noopener noreferrer">AWS Developer Tools Services</a></p>

<ul>
  <li>Part 1: AWS CodeCommit</li>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/19/AWS-Developer-Tools-Services-Part-2-AWS-CodeBuild/">Part 2: AWS CodeBuild</a></li>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/20/AWS-Developer-Tools-Services-Part-3-AWS-CodeDeploy/">Part 3: AWS CodeDeploy</a></li>
  <li><a href="https://volkanpaksoy.com/archive/2019/10/23/AWS-Developer-Tools-Services-Part-4-AWS-CodePipeline/">Part 4: AWS CodePipeline</a></li>
</ul>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-icon.png" alt=""></p>

<h2 id="aws-codecommit">AWS CodeCommit</h2>
<p>I’m looking for GitHub alternatives and thought CodeCommit would be worth a shot.</p>

<h2 id="creating-a-repository">Creating a Repository</h2>
<p>Like any other Git provider, you start with creating a repository.</p>

<p>As a side-note, I always thought what was lacking in GitHub was a way of grouping repositories. You can use topics which are essentially labels</p>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-github-topics.png" alt=""></p>

<p>I was hoping there would be a way to create folders or another way to group related repositories together but the closest thing they provide is using tags:</p>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-create-repo.png" alt=""></p>

<h2 id="connecting-to-repositories">Connecting to repositories</h2>
<p>After creating the repository it shows all the information needed for different protocols (HTTPS / SSH) and platforms (MacOS / Windows / Linux). One thing to note is that because of the security risks, it doesn’t allow you to connect with root credentials so you have to be logged in as an IAM user with CodeCommit full access.</p>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-connection-info.png" alt=""></p>

<p>I’m writing this blog post on a Windows laptop and so followed <a href="https://docs.aws.amazon.com/en_pv/codecommit/latest/userguide/setting-up-ssh-windows.html" target="_blank" rel="noopener noreferrer">this</a> guide for generating public/private keys.</p>

<p>It’s similar to any other Git guide with the exception that you have to add your access key to your SSH config file (~/.ssh/config):</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Host git-codecommit.*.amazonaws.com
  User APKAEIBAERJR2EXAMPLE
  IdentityFile ~/.ssh/codecommit_rsa
</code></pre></div></div>

<p>Then to test your connection, run:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ssh git-codecommit.us-east-2.amazonaws.com
</code></pre></div></div>

<p>After adding the host to known hosts list you should see this message:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>You have successfully authenticated over SSH. You can use Git to interact with AWS CodeCommit. Interactive shells are not supported.Connection to git-codecommit.us-east-2.amazonaws.com closed by remote host.
</code></pre></div></div>

<h2 id="clone-the-repo">Clone the repo</h2>
<p>On the same, click on the Clone URL dropdown and choose the protocol you’d like to use (ideally SSH):</p>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-clone-repo-url.png" alt=""></p>

<p>and try it in your shell (Powershell in my case). You should see your repository locally:</p>

<p><img src="/images/vpblogimg/2019/10/aws-codecommit-cloned-repo.png" alt=""></p>

<h2 id="troubleshooting">Troubleshooting</h2>
<p>In my experience in Windows, everything worked find on command line but when I tried to use my Git client (Git Extensions) I started having connection issues. The fix for that was to add my AWS SSH Key Id in the URL:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git clone ssh://Your-SSH-Key-ID@git-codecommit.us-east-2.amazonaws.com/v1/repos/MyDemoRepo my-demo-repo
</code></pre></div></div>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://docs.aws.amazon.com/en_pv/codecommit/latest/userguide/setting-up-ssh-windows.html" target="_blank" rel="noopener noreferrer">Setup Steps for SSH Connections to AWS CodeCommit Repositories on Windows</a></li>
  <li><a href="https://docs.aws.amazon.com/en_pv/codecommit/latest/userguide/troubleshooting-ssh.html" target="_blank" rel="noopener noreferrer">Troubleshooting SSH Connections to AWS CodeCommit</a></li>
  <li><a href="https://aws.amazon.com/products/developer-tools/" target="_blank" rel="noopener noreferrer">AWS Developer Tools services</a></li>
</ul>

		
		
	</div>


    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/09/06/Git-Branching-Strategies-GitHub-Flow/" itemprop="url">Git Branching Strategies: GitHub Flow</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-09-06T07:00:00+01:00" itemprop="datePublished">September  6, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/dev">dev</a></span> -->

<!-- dev -->




    <a href="/category/dev">dev</a>
    
</span>
	<span class="tags">git, github flow</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<p>In this post I woud like to talk about GitHub Flow branching strategy:</p>

<h2 id="basic-approach">Basic approach</h2>
<ul>
  <li>Main diagram of the workflow:</li>
</ul>

<p><img src="/images/vpblogimg/2019/09/git-github-flow-01-diagram.png" alt=""></p>

<ul>
  <li>It’s a branch-based workflow mostly targeting projects where deployments are made regularly. In other words, it’s more suitable for continuos deployment environments.</li>
  <li>There’s only one rule about branching: anything in the <strong>master</strong> branch is always deployable. Because of this, it’s extremely important that your <strong>new branch is created off of master</strong> when working on a feature or a fix.</li>
  <li>Branch names should be descriptive</li>
  <li>Once the changes are done, create a pull request.</li>
  <li>Discuss the pull request and apply changes where necessary</li>
  <li>Merge into master and deploy straight away</li>
</ul>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://guides.github.com/introduction/flow/" target="_blank" rel="noopener noreferrer">Understanding the GitHub flow</a></li>
  <li><a href="https://www.youtube.com/watch?v=juLIxo42A_s" target="_blank" rel="noopener noreferrer">YouTube Video: The GitHub Flow - GitHub Universe 2016</a></li>
  <li><a href="https://www.youtube.com/watch?v=47E-jcuQz5c" target="_blank" rel="noopener noreferrer">YouTube Video: Git &amp; GitHub: GitHub Workflow (A very concise explanation in 1 minute and 13 seconds)</a></li>
</ul>


		
		
	</div>


    </article>




    <article class="post" itemprop="blogPost" itemscope itemtype="http://schema.org/BlogPosting">
        
	<h1 class="title" itemprop="name"><a href="/archive/2019/09/06/Git-Branching-Strategies-Git-Flow/" itemprop="url">Git Branching Strategies: Git Flow</a></h1>
	<div class="meta">
	<span class="date">




<time datetime="2019-09-06T07:00:00+01:00" itemprop="datePublished">September  6, 2019</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/dev">dev</a></span> -->

<!-- dev -->




    <a href="/category/dev">dev</a>
    
</span>
	<span class="tags">git, git flow, sourcetree</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
		<p>In this post I woud like to talk about a common Git branching strategy: Git Flow.</p>

<h2 id="basic-approach">Basic approach</h2>

<ul>
  <li>Main diagram of the workflow:</li>
</ul>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-00-diagram.png" alt=""></p>

<ul>
  <li>
    <p>The central repo holds two main branches with an infinite lifetime:</p>

    <ul>
      <li>master</li>
      <li>develop</li>
    </ul>
  </li>
  <li>origin/master is the main branch where the source code of HEAD always reflects a production-ready state</li>
  <li>origin/develop is the main branch where the source code of HEAD always reflects a state with the latest delivered development changes for the next release (also called as integration branch)</li>
  <li>When the source code in the develop branch reaches a stable point and is ready to be released, all of the changes should be merged back into master somehow and then tagged with a release number.</li>
  <li>There are also supporting branches with limited lifetime such as:
    <ul>
      <li>Feature branches</li>
      <li>Release branches</li>
      <li>Hotfix branches</li>
    </ul>
  </li>
</ul>

<table>
  <thead>
    <tr>
      <th>Supporting branch</th>
      <th>May branch off</th>
      <th>Must merge back into</th>
      <th>Naming convention</th>
      <th>Lifetime</th>
      <th>Remarks</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Feature</td>
      <td>develop</td>
      <td>develop</td>
      <td>anything except master, develop, release-*, or hotfix-*</td>
      <td>as long as the feature is in development</td>
      <td>Features should never interact directly with master.</td>
    </tr>
    <tr>
      <td>Release</td>
      <td>develop</td>
      <td>develop and master</td>
      <td>release-*</td>
      <td>preparation of the release</td>
      <td>Starts after feature-freeze. Allows minor bugfixes. Adding large new features here is strictly prohibited.</td>
    </tr>
    <tr>
      <td>Hotfix</td>
      <td>master</td>
      <td>develop and master</td>
      <td>hotfix-*</td>
      <td>preparation of the release</td>
      <td>Similar to release in that used to prepare a production release but unplanned.</td>
    </tr>
  </tbody>
</table>

<h2 id="automation">Automation</h2>
<p>Most tools have plugins to support Git Flow. In the example below I will use SourceTree which is available in Windows and Mac.</p>

<p>In this example I’m going to use a GitHub repository called <em>gitflow-automation-test</em>. I’ve already created it in GitHub and in my development environment.</p>

<h3 id="initialization-and-working-with-features">Initialization and working with features</h3>
<p>First thing to do with Git Flow in SourceTree is to initialize the repository.</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-01-init.png" alt=""></p>

<p>It sounds confusing at first because the git repo itself is already initialized. What it actually does is explained <a href="https://community.atlassian.com/t5/Sourcetree-questions/What-does-quot-Initialising-repository-for-git-flow-quot-is/qaq-p/433782" target="_blank" rel="noopener noreferrer">here</a>. It shows a dialog box to configure the plugin:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-02-init-configure.png" alt=""></p>

<p>It also created the local develop branch.</p>

<p>At this point we have the three types of branches explained above to choose from to start. Let’s start with a new feature named “users”</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-03-start-feature.png" alt=""></p>

<p>I just added a blank file that represents the changes required for that feature and commmited my changes.</p>

<p>Now that the feature has been implemented, I want to finish the feature. Similar to start, I went to Repository -&gt; Git Flow -&gt; Hg Flow -&gt; Finish Feature</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-04-finish-feature.png" alt=""></p>

<p>As the options in the window suggests, this action merges the changes into develop and deletes the local branch. It doesn’t push to remote so we have to push it ourselves.</p>

<h3 id="releasing-new-version">Releasing new version</h3>
<p>Now let’s assume we’ve implemented all the features planned for this release and we want to deploy a new version of our application.</p>

<p>To achieve this we start a new release:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-05-start-release.png" alt=""></p>

<p>Once we are ready to ship this release, we end the release similarly:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-06-finish-release.png" alt=""></p>

<p>We can choose to push to the origin directly too. If we switch to detail view in Sourcetree output we can see a nice summary of actions that took place:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Summary of actions:
- Release branch 'release/1.0' has been merged into 'master'
- The release was tagged '1.0'
- Release tag '1.0' has been back-merged into 'develop'
- Release branch 'release/1.0' has been locally deleted
- 'develop', 'master' and tags have been pushed to 'origin'
- You are now on branch 'develop' 
</code></pre></div></div>

<h3 id="working-with-hotfixes">Working with hotfixes</h3>
<p>As the development continues, let’s assume we implemented another feature named “orders”. Finished the feature and pushed to origin. Now we have a new feature in develop. Suddenly we noticed there’s a bug in the production and we need to deploy a hotfix. We cannot create a new release branch off of develop because the new “orders” feature would be deployed along with the bugfix. So we create out hotfix branch off of master which always points to production.</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-07-start-hotfix.png" alt=""></p>

<p>As we can see the code reverted back to master:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-08-hotfix-contents.png" alt=""></p>

<p>So I added another file to represent the changes for the hotfix and finished the hotfix:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-09-finish-hotfix.png" alt=""></p>

<p>And the summary of actions looks like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Summary of actions:
- Hotfix branch 'hotfix/1.0-hotfix-1' has been merged into 'master'
- The hotfix was tagged '1.0-hotfix-1'
- Hotfix tag '1.0-hotfix-1' has been back-merged into 'develop'
- Hotfix branch 'hotfix/1.0-hotfix-1' has been locally deleted
- 'develop', 'master' and tags have been pushed to 'origin'
- You are now on branch 'develop'
</code></pre></div></div>

<p>As we can see the process is very similar to release. The only difference is the originating branch which was master in this case.</p>

<h2 id="working-with-pull-requests">Working with pull requests</h2>
<p>It’s a good practice to create pull requests and ask colleagues to review the code before merging into develop. This can still be part of Git Flow.</p>

<p>In this example I’ve created a new feature called “customers”. The changes are represented by the file “Implemented Customers Feature in This File.md”. I’ve commited my code to my feature branch and pushed it to GitHub.</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-10-new-feature-on-github.png" alt=""></p>

<p>Now I can click a new Pull Request by clicking Compare &amp; pull request button:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-11-open-pr-on-github.png" alt=""></p>

<p>I’ve clicked on Create Pull Request and now it’s open on GitHub.</p>

<p>At this point there are several strategies you can take such as reviewed handling the merge and the developer deleting the local branch themselves (as there won’t be a Finish Feature step).</p>

<p>My suggestion is for the reviewer to Approve the pull request but not to merge it. Once the PR is approved, the developer receives a notification. Also the status of the PR can be seen on GitHub as well:</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-12-approved-pr-on-github.png" alt=""></p>

<p>At this point the developer can go back to Git Flow and finish feature as shown previously.</p>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-13-select-feature-to-finish.png" alt=""></p>

<p>Now that we know customers feature have been approved we can select that and finish that feature:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Summary of actions:
- The feature branch 'feature/customers' was merged into 'develop'
- Feature branch 'feature/customers' has been locally deleted; it has been remotely deleted from 'origin'
- You are now on branch 'develop'
</code></pre></div></div>

<p>At this point developer needs to push the merged develop branch to GitHub otherwise the recent change (approved customers change) doesn’t appear in remote even though the pull request was merged.</p>

<p>Even if you’re in the middle of another feature and have uncommited files you can still finish the approved feature so it doesn’t interrupt with your work.</p>

<h2 id="command-line">Command Line</h2>
<p>All the Git Flow commands explained above are also supported by command line but to be able to use them you have to install it:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>brew install git-flow
</code></pre></div></div>

<p>Then you can start using it as</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git flow &lt;subcommand&gt;
</code></pre></div></div>

<p><img src="/images/vpblogimg/2019/09/git-gitflow-14-command-line.png" alt=""></p>

<p>In Windows, command line tools come with the installer so no extra installation is necessary.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://nvie.com/posts/a-successful-git-branching-model" target="_blank" rel="noopener noreferrer">Git Flow Original Blog Post: A successful Git branching model</a></li>
  <li><a href="/assets/docs/Git-branching-model.pdf">Full branching model PDF</a></li>
  <li><a href="https://www.codingblocks.net/podcast/comparing-git-workflows/" target="_blank" rel="noopener noreferrer">Coding Blocks Podcast: Comparing Git Workflows</a></li>
</ul>


		
		
	</div>


    </article>


</div>
<nav id="pagenavi">
    
        <a href="/page/3" class="prev">Prev</a>
    
    
        <a href="/page/5" class="next">Next</a>
    
    <div class="center"><a href="/archive">Blog Archives</a></div>
</nav>
</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright © 2020 - Volkan Paksoy Blog content licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank" rel="noopener noreferrer">CC BY 2.5</a> | Site design based on the <a href="https://github.com/shashankmehta/greyshade" target="_blank" rel="noopener noreferrer">Greyshade theme</a> under the <a href="http://sm.mit-license.org/" target="_blank" rel="noopener noreferrer">MIT license</a>
</p>
</footer>
		</div>
	</div>
</body>
</html>
