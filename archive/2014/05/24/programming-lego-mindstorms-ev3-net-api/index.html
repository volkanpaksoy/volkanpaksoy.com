<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Programming Lego Mindstorms EV3 with .NET API - Playground for the mind</title>
	<meta name="author" content="Volkan Paksoy">

	
	<meta name="description" content="
		
	">
	

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://feeds.feedburner.com/PlaygroundForTheMind" rel="alternate" title="Playground for the mind" type="application/atom+xml">
	
	<link rel="canonical" href="https://volkanpaksoy.com/archive/2014/05/24/programming-lego-mindstorms-ev3-net-api/">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800' rel='stylesheet' type='text/css'>
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/code.css" type="text/css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="/js/slash.js" async></script>
	<script src="/js/GithubRepoWidget.min.js" async></script>

  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996"
  crossorigin="anonymous"></script>

  

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-Y3V7V2XX9Q"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-Y3V7V2XX9Q');
</script>

<!-- <script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'G-Y3V7V2XX9Q']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script> -->



  <!-- Twitter cards -->
  <meta name="twitter:site"    content="@volkan_paksoy">
  <meta name="twitter:creator" content="@Volkan Paksoy">
  <meta name="twitter:title"   content="Programming Lego Mindstorms EV3 with .NET API">

  
  <meta name="twitter:description" content="">
  

  
  <meta name="twitter:card"  content="summary">
  <meta name="twitter:image" content=""> -->
  
  <!-- end of Twitter cards -->


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner"><div class="profilepic">
	
	<a href="/">
		<img src="https://s.gravatar.com/avatar/760bf518408c38ebb0f0e5adb8089e30?s=80?s=160" alt="Profile Picture" style="width: 160px;">
	</a>	
	
</div>
<hgroup>
  <h1 class="site-title" style="font-size: 2.4em;">
		<a style="color: rgba(255, 165, 0, 0.8);" href="/">Playground for the mind</a>
	</h1>
  
    <h2>It's all about the journey, not the destination</h2>
  
</hgroup>

<nav id="sub-nav">
	<div class="social">
		
			<a class="rss" href="https://feeds.feedburner.com/PlaygroundForTheMind" title="RSS" target="_blank" rel="noopener noreferrer">RSS</a>
		
		
			<a class="github" href="https://github.com/volkanpaksoy" title="GitHub" target="_blank" rel="noopener noreferrer">GitHub</a>
		
		
			<a class="stackoverflow" href="https://stackoverflow.com/users/3093396/volkan-paksoy" title="StackOverflow" target="_blank" rel="noopener noreferrer">StackOverflow</a>
		
	</div>
</nav>

<nav id="main-nav">
<ul class="main-navigation">
  <li><a href="/archive">posts</a></li>
  <li><a href="/category">categories</a></li>
</ul>
<br>
<br>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>
<!-- vp.com - default -->
<ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5266062674794996" data-ad-slot="6750480330" data-ad-format="auto" data-full-width-responsive="true"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
</nav></header>				
			</div>
		</div>
		<div class="mid-col">
			<div class="mid-col-container">
				<div id="content" class="inner">
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Programming Lego Mindstorms EV3 with .NET API</h1>
	<div class="meta">
	<span class="date">




<time datetime="2014-05-24T17:15:14+01:00" itemprop="datePublished">May 24, 2014</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/"></a></span> -->

<!-- dev, hobby -->




    <a href="/category/dev">dev</a>
    , 

    <a href="/category/hobby">hobby</a>
    
</span>
	<span class="tags">lego, mindstorms, ev3</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
<p>I had my eye on the new Lego Mindstorms set for a while. Finally I decided to order it from Amazon. It’s still a bit pricey but I think it’s worth it. I read nice review of EV3 <a href="http://geekmom.com/2013/08/ev3-review-lego-robot/" target="_blank" rel="noopener noreferrer">here</a> which also includes comparisons to the previous generation of the Mindstorms kit.</p>

<p><img src="/images/vpblogimg/2014/05/EV3-01.jpg" alt="Lego Mindstorms EV3"></p>

<h2 id="programming-ev3-the-official-way">Programming EV3: The Official Way</h2>
<p>Programming the kit is very easy using Lego’s official graphical programming tool. You just have to drag and drop the components and fiddle with the parameters. Check out the following very basic application:</p>

<p><img src="/images/vpblogimg/2014/05/EV3-02.png" alt="Lego Mindstorms EV3"></p>

<p>It powers the motors connected to ports B and C. It keeps doing that in a loop as long as the value read from Infrared Sensor is larger than 20. If there is an object closer to 20 centimetres it breaks and ends the program.</p>

<h2 id="programming-ev3-the-net-way">Programming EV3: The .NET Way</h2>
<p>The .NET API is an open-source project. I recommend watching the introductory <a href="http://channel9.msdn.com/posts/LEGO-Mindstorms-EV3-API" target="_blank" rel="noopener noreferrer">video</a> which shows the basics. It shows how to move the robot by sending direct commands to turn the motors and how to read values from the sensors. The following part the test application shows the event handlers for the direction buttons and setup code to connect to the brick.</p>

<p><img src="/images/vpblogimg/2014/05/EV3-04.png" alt="Lego Mindstorms EV3"></p>

<script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5266062674794996" crossorigin="anonymous"></script>

<p><ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5266062674794996" data-ad-slot="9650311114"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script></p>

<p>I also added a similar implementation of the NXT-G program above. It’s a while loop which breaks when the value from the IR sensor is lower than 10.</p>

<p><img src="/images/vpblogimg/2014/05/EV3-05.png" alt="Lego Mindstorms EV3"></p>

<p>And voila! Now my clever robot senses the object in front of it and avoids the collision by stopping!</p>

<p>You can find the source code for the test application on <a href="https://github.com/volkanpaksoy/lego/tree/master/projects/VP.Playground.Lego.EV3Test" target="_blank" rel="noopener noreferrer">GitHub</a></p>

<h2 id="tips--tricks">Tips &amp; Tricks</h2>
<ul>
  <li>
    <p>When I first implemented the NXT-G equivalent version the sensor value wasn’t updating properly. I checked the discussion forums in the CodePlex project page and found out that other people were having a similar issue. A workaround was adding the Thread.Sleep(10) line. After that I could read the updated sensor values without any problems. Although it doesn’t feel like the right solution it works fine as a temporary workaround.</p>
  </li>
  <li>
    <p>During the testing and debugging I managed to crash the Lego brick a few times. First I feared I actually “bricked” the brick but luckily a reset resolved it. Resetting the brick is not obvious though, I had to check the manual for that. So in case you need to reset it you have to hold down Back, Center and Left buttons. Then release the Back button when the screen goes blank and release the other two when the screen says “Starting”.</p>
  </li>
</ul>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="http://geekmom.com/2013/08/ev3-review-lego-robot/" target="_blank" rel="noopener noreferrer">Lego EV3 review and comparison to NXT 2.0</a></li>
  <li><a href="http://channel9.msdn.com/posts/LEGO-Mindstorms-EV3-API" target="_blank" rel="noopener noreferrer">Channel9 video on programming EV3 with .NET API</a></li>
  <li><a href="https://github.com/volkanpaksoy/lego/tree/master/projects/VP.Playground.Lego.EV3Test" target="_blank" rel="noopener noreferrer">Source code for the test application</a></li>
</ul>
</div>

</article>

<div id="page-navigation"> 
        <div class="previous"> 
         
                <a href="/archive/2014/05/11/density-based-clustering-dbscan-algorithm/" title="Previous Post: 
Density-based Clustering with DBSCAN Algorithm">« Density-based Clustering with DBSCAN Algorithm</a>
         
        </div>

        <div class="next"> 
         
               <a href="/archive/2014/07/20/using-multiple-git-accounts-ssh-keys/" title="next Post: 
Using multiple git accounts with SSH keys">Using multiple git accounts with SSH keys » </a> 
         
        </div>
</div> 


</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright © 2022 - Volkan Paksoy Blog content licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank" rel="noopener noreferrer">CC BY 2.5</a> | Site design based on the <a href="https://github.com/shashankmehta/greyshade" target="_blank" rel="noopener noreferrer">Greyshade theme</a> under the <a href="http://sm.mit-license.org/" target="_blank" rel="noopener noreferrer">MIT license</a>
</p>
</footer>
		</div>
	</div>
</body>
</html>
