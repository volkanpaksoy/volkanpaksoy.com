<!DOCTYPE HTML>

<html>

<head>
	<meta charset="utf-8">
	<title>Free SSL certificates with AWS Certificate Manager - Playground for the mind</title>
	<meta name="author" content="Volkan Paksoy">

	
	<meta name="description" content="
		
	">
	

	<!-- http://t.co/dKP3o1e -->
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link href="https://feeds.feedburner.com/PlaygroundForTheMind" rel="alternate" title="Playground for the mind" type="application/atom+xml">
	
	<link rel="canonical" href="https://volkanpaksoy.com/archive/2016/03/02/free-ssl-certs-with-aws-certificate-manager/">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
	<link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,400italic,600,700,800' rel='stylesheet' type='text/css'>
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link rel="stylesheet" href="/css/code.css" type="text/css">
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="/js/slash.js" async></script>
	<script src="/js/GithubRepoWidget.min.js" async></script>

  	
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-35583486-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
				<header id="header" class="inner"><div class="profilepic">
	
	<a href="/">
		<img src="https://s.gravatar.com/avatar/760bf518408c38ebb0f0e5adb8089e30?s=80?s=160" alt="Profile Picture" style="width: 160px;">
	</a>	
	
</div>
<hgroup>
  <h1 class="site-title" style="font-size: 2.4em;">
		<a style="color: rgba(255, 165, 0, 0.8);" href="/">Playground for the mind</a>
	</h1>
  
    <h2>It's all about the journey, not the destination</h2>
  
</hgroup>

<nav id="sub-nav">
	<div class="social">
		
			<a class="rss" href="https://feeds.feedburner.com/PlaygroundForTheMind" title="RSS" target="_blank" rel="noopener noreferrer">RSS</a>
		
		
			<a class="github" href="https://github.com/volkanpaksoy" title="GitHub" target="_blank" rel="noopener noreferrer">GitHub</a>
		
		
			<a class="stackoverflow" href="https://stackoverflow.com/users/3093396/volkan-paksoy" title="StackOverflow" target="_blank" rel="noopener noreferrer">StackOverflow</a>
		
	</div>
</nav>

<nav id="main-nav">
<ul class="main-navigation">
  <li><a href="/archive">posts</a></li>
  <li><a href="/category">categories</a></li>
</ul>
</nav></header>				
			</div>
		</div>
		<div class="mid-col">
			<div class="mid-col-container">
				<div id="content" class="inner">
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
	<h1 class="title" itemprop="name">Free SSL certificates with AWS Certificate Manager</h1>
	<div class="meta">
	<span class="date">




<time datetime="2016-03-02T08:00:00+00:00" itemprop="datePublished">March  2, 2016</time></span>
	<span class="categories"><!-- <span class="category-link"><a href="/category/"></a></span> -->

<!-- aws -->




    <a href="/category/aws">aws</a>
    
</span>
	<span class="tags">ssl, aws_certificate_manager, acm</span>
	
</div>
	<div class="entry-content" itemprop="articleBody">
<p>Paying a ton of money to a digital certificate, which costs nothing to generate, has always bugged me. Fortunately it isn’t just me and recently I heard about <a href="https://letsencrypt.org" target="_blank" rel="noopener noreferrer">Let’s Encrypt</a>.</p>

<p>I was just planning to give it a go but I noticed a new service on AWS Management Console:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-on-console.png" alt=""></p>

<p>Apparently AWS is now issuing free SSL certificates, which was too tempting to pass on so I decided to dive in.</p>

<h2 id="enter-aws-certificate-manager">Enter AWS Certificate Manager</h2>
<p>Requesting a certificate just takes seconds as it’s a 3-step process:</p>

<p>First, enter the list of domains you want the certificates for:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-step-01.png" alt=""></p>

<p>Wildcard SSL certificates don’t cover the zone apex so I had to enter both. (Hey it’s 
free so no complaints here!)</p>

<p>Then review and confirm and request has been made:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-step-02.png" alt=""></p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-step-03.png" alt=""></p>

<p>A verification email has been sent to the email addresses listed in the confirmation step.</p>

<p>At this point I could define MX records and use Google Apps to create a new user and receive the verification email. The problem is I don’t want all this hassle and certainly don’t need another email account to monitor.</p>

<h2 id="ses-to-the-rescue">SES to the rescue</h2>
<p>I always considered SES as a simple SMTP service to send emails but while dabbling with alternatives I realized that now we can receive emails too!</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-receiving-emails.png" alt=""></p>

<p>To receive emails you need to verify your domain first. Also an MX record pointing to AWS SMTP server must be added. Fortunately since everything here is AWS it can be done automatically using Route53:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-verification.png" alt=""></p>

<p>After this we can move on, we’ll receive a confirmation email once the domain has been verified:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-verification-result.png" alt=""></p>

<p>In the next step we decide what to do with the incoming mails. We can bounce them, call a Lambda function, create a SNS notification etc. These all sound fun to experiment with but in this case I’ll opt for simplicity and just drop them to a S3 bucket.</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-02.png" alt=""></p>

<p>Great thing is I can even assign a prefix so I can a single bucket to collect emails from a bunch of different addresses all separated into their own folders.</p>

<p>In step 3, we can specify more options. Another pleasant surprise was to see spam and virus protection:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-02.png" alt=""></p>

<p>After reviewing everything and confirming we are ready to receive emails to our bucket. In fact nice folks at AWS are so considerate that they even sent us a test email already:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-ses-verification-email.png" alt=""></p>

<h2 id="back-to-certificates">Back to certificates</h2>
<p>OK, after a short detour we are back on getting our SSL certificate. As I didn’t have my mailbox setup during the validation step I had to go to actions menu and select <em>Resend validation email</em>.</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-resend-verification-email.png" alt=""></p>

<p>And after requesting it I immediately received the email containing a link to verify ownership of the domain.</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-approval.png" alt=""></p>

<p>After the approval process we get ourselves a nice free wildcard SSL certificate:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-status.png" alt=""></p>

<h2 id="test-drive">Test drive</h2>
<p>To leverage the new certificate we need to use CloudFront to create a distribution. Here again we benefit from the integrated services. The certificate we have been issued can be selected from the dropdown list:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-cloudfront.png" alt=""></p>

<p>So after entering simple basics like the domain name and default page I created the distribution and pointed the Route53 records to this distribution instead of the S3 bucket.</p>

<p>And finally, after waiting (quite a bit) for the CloudFront distribution to be deployed we can see that little green padlock we’ve been looking forward to see!:</p>

<p><img src="/images/vpblogimg/2016/03/aws-cert-manager-result.png" alt=""></p>

<h2 id="update-1-03032016">UPDATE 1 [03/03/2016]</h2>
<p>Yesterday I was so excited about discovering this I didn’t look any further like downloading the certificate and using it on your servers.</p>

<p>Today unfortunately I realized that the usability is quite limited: It only works with AWS Elastic Load Balancer and CloudFront. I was hoping to use it with API Gateway but even that’s another AWS service it’s not integrated with ACM yet.</p>

<p>I do hope they make the cert bits available so we can have full control over them and deploy to wherever we want. So I guess Let’s Encrpt is a better option for now considering this limitation.</p>

<h2 id="resources">Resources</h2>
<ul>
  <li><a href="https://letsencrypt.org/" target="_blank" rel="noopener noreferrer">Let’s Encrypt Official Website</a></li>
  <li><a href="https://aws.amazon.com/blogs/aws/new-aws-certificate-manager-deploy-ssltls-based-apps-on-aws/" target="_blank" rel="noopener noreferrer">AWS Official Blog: AWS Certificate Manager – Deploy SSL/TLS-Based Apps on AWS</a></li>
  <li><a href="http://docs.aws.amazon.com/ses/latest/DeveloperGuide/receiving-email.html" target="_blank" rel="noopener noreferrer">AWS Documentation: Receiving Email with Amazon SES</a></li>
</ul>
</div>

</article>

<div id="page-navigation"> 
        <div class="previous"> 
         
                <a href="/archive/2016/01/28/weight-tracking-with-fitbit-aria/" title="Previous Post: 
Weight Tracking with Fitbit Aria">« Weight Tracking with Fitbit Aria</a>
         
        </div>

        <div class="next"> 
         
               <a href="/archive/2016/03/18/dynamic-dns-with-aws-route-53-part-2-angular-client/" title="next Post: 
Dynamic DNS with AWS Route 53 - Part 2: AngularJS Client">Dynamic DNS with AWS Route 53 - Part 2: AngularJS Client » </a> 
         
        </div>
</div> 


</div>
			</div>
			<footer id="footer" class="inner"><p>
  Copyright © 2020 - Volkan Paksoy Blog content licensed under the Creative Commons <a href="http://creativecommons.org/licenses/by/2.5/" target="_blank" rel="noopener noreferrer">CC BY 2.5</a> | Site design based on the <a href="https://github.com/shashankmehta/greyshade" target="_blank" rel="noopener noreferrer">Greyshade theme</a> under the <a href="http://sm.mit-license.org/" target="_blank" rel="noopener noreferrer">MIT license</a>
</p>
</footer>
		</div>
	</div>
</body>
</html>
